\chapter{Number Splitting}

\newcommand{\Product}[2]{\prod\limits_{#1} #2}
\newcommand{\Floor}[1]{\left\lfloor #1 \right\rfloor}

\section{Problem Definition}

\begin{enumerate}
    \item Input: a number $n \in \N$;
    \item Output: a partition of natural values $P = \tuple{p_{0}, \dots, p_{m}}$ such that:
    \begin{enumerate}
        \item $m \geqslant 2$;
        \item $\Sum{p \in P}{}{p} = n$;
    \end{enumerate}
    \item Goal: Maximize the product of the elements of $P$:
    \begin{equation}
        \max \Product{p \in P}{p}
    \end{equation}
\end{enumerate}

\section{Naive Algorithm}

The naive algorithm is pretty simple: generate all partitions of the number $n$ with at least two numbers and select the one with the largest product.

Below, the Algorithm \ref{number-splitting:algorithm:generate-all-partitions} specify how to generate all partitions using a recursive algorithm, and the Algorithm \ref{number-splitting:algorithm:naive-algorithm} is the actual naive algorithm described above.

\begin{algorithm}[H]
    \caption{Generate all partitions}
    \label{number-splitting:algorithm:generate-all-partitions}
    \begin{algorithmic}[1]
        \Function{Partition}{$n, excludeLast$}
            \State $P \gets \Set{}$
            \If {$n = 0$}
                \State $P.insert(\tuple{})$
            \ElsIf {$n = 1$}
                \State $P.insert(\tuple{1})$
            \EndIf
            \For {$i = 1, \dots, n$}
                \For {$p \in \text{Partition}(n-i, false)$}
                    \State $p_+ \gets \text{sorted}([i] + p)$
                    \State $P.insert(p_+)$
                \EndFor
            \EndFor
            \If {$excludeLast$}
                \State $P.remove\_if(\lambda(p) \ p == \tuple{n}$)
            \EndIf
            \State \Return $P$
        \EndFunction
        \end{algorithmic}
\end{algorithm}

\begin{algorithm}[H]
    \caption{Naive algorithm}
    \label{number-splitting:algorithm:naive-algorithm}
    \begin{algorithmic}[1]
        \Function{Naive}{$n$}
            \State $P \gets \text{Partition}(n, true)$
            \State $p^* = \ArgMax{p \in P}{\Product{i \in p}{i}}$
            \State \Return $p^*$
        \EndFunction
        \end{algorithmic}
\end{algorithm}
